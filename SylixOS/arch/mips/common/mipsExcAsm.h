/*********************************************************************************************************
**
**                                    中国软件开源组织
**
**                                   嵌入式实时操作系统
**
**                                SylixOS(TM)  LW : long wing
**
**                               Copyright All Rights Reserved
**
**--------------文件信息--------------------------------------------------------------------------------
**
** 文   件   名: mipsExcAsm.h
**
** 创   建   人: Ryan.Xin (信金龙)
**
** 文件创建日期: 2015 年 09 月 01 日
**
** 描        述: MIPS 体系构架异常处理.
*********************************************************************************************************/

#ifndef __MIPSEXCASM_H
#define __MIPSEXCASM_H

/*********************************************************************************************************
  Cache error exception
*********************************************************************************************************/

#define MIPS_CACHE_ERROR_HANDLE()       \
    .set    push;                       \
    .set    noat;                       \
    .set    noreorder;                  \
                                        \
    LA      K0 , archCacheErrorEntry;   \
    JR      K0;                         \
    NOP;                                \
                                        \
    .set    pop

/*********************************************************************************************************
  General exception
*********************************************************************************************************/

#define MIPS_EXCEPTION_HANDLE()         \
    .set    push;                       \
    .set    noat;                       \
    .set    noreorder;                  \
                                        \
    LA      K0 , archExceptionEntry;    \
    JR      K0;                         \
    NOP;                                \
                                        \
    .set    pop

/*********************************************************************************************************
  Catch interrupt exceptions
*********************************************************************************************************/

#define MIPS_INTERRUPT_HANDLE()         \
    .set    push;                       \
    .set    noat;                       \
    .set    noreorder;                  \
                                        \
    LA      K0 , archInterruptEntry;    \
    JR      K0;                         \
    NOP;                                \
                                        \
    .set    pop

#endif                                                                  /*  __MIPSEXCASM_H              */
/*********************************************************************************************************
  END
*********************************************************************************************************/
